(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{HamO:function(e,i,r){"use strict";r.d(i,"a",(function(){return h}));var t=r("3Pt+"),o=r("fXoL"),a=r("tyNb"),n=r("cZOq"),s=r("XiUz"),c=r("ofXK"),l=r("bTqV"),m=r("NFeN"),b=r("kmnG"),f=r("qFsG"),u=r("JQvQ");function d(e,i){if(1&e){const e=o.Rb();o.Qb(0,"form",6),o.Qb(1,"h1",7),o.xc(2,"HOGVE Account Registration"),o.Pb(),o.Qb(3,"div",8),o.Qb(4,"div",9),o.Qb(5,"mat-form-field",10),o.Qb(6,"mat-label"),o.xc(7,"First Name"),o.Pb(),o.Mb(8,"input",11),o.Qb(9,"mat-error"),o.xc(10," Please enter your First Name "),o.Pb(),o.Pb(),o.Pb(),o.Qb(11,"div",9),o.Qb(12,"mat-form-field",10),o.Qb(13,"mat-label"),o.xc(14,"Last Name"),o.Pb(),o.Mb(15,"input",12),o.Qb(16,"mat-error"),o.xc(17," Please enter your Last Name "),o.Pb(),o.Pb(),o.Pb(),o.Qb(18,"div",13),o.Qb(19,"mat-form-field",10),o.Qb(20,"mat-label"),o.xc(21,"Email"),o.Pb(),o.Mb(22,"input",14),o.Qb(23,"mat-error"),o.xc(24," Please enter your Email "),o.Pb(),o.Pb(),o.Pb(),o.Qb(25,"div",13),o.Qb(26,"mat-form-field",10),o.Qb(27,"mat-label"),o.xc(28,"Password"),o.Pb(),o.Mb(29,"input",15),o.Qb(30,"mat-icon",16),o.Yb("click",(function(){o.oc(e);const i=o.cc();return i.passwordHide=!i.passwordHide})),o.xc(31),o.Pb(),o.Qb(32,"mat-error"),o.xc(33," Please enter Password "),o.Pb(),o.Pb(),o.Pb(),o.Qb(34,"div",13),o.Qb(35,"mat-form-field",10),o.Qb(36,"mat-label"),o.xc(37,"Confirm Password"),o.Pb(),o.Mb(38,"input",17),o.Qb(39,"mat-icon",16),o.Yb("click",(function(){o.oc(e);const i=o.cc();return i.confirmPasswordHide=!i.confirmPasswordHide})),o.xc(40),o.Pb(),o.Qb(41,"mat-error"),o.xc(42," Please enter Password again "),o.Pb(),o.Pb(),o.Pb(),o.Qb(43,"div",18),o.Qb(44,"button",19),o.Yb("click",(function(){return o.oc(e),o.cc().onRegister()})),o.xc(45,"Register"),o.Pb(),o.Pb(),o.Pb(),o.Pb()}if(2&e){const e=o.cc();o.hc("formGroup",e.registerForm),o.Ab(29),o.hc("type",e.passwordHide?"password":"text"),o.Ab(2),o.zc(" ",e.passwordHide?"visibility_off":"visibility",""),o.Ab(7),o.hc("type",e.confirmPasswordHide?"password":"text"),o.Ab(2),o.zc(" ",e.confirmPasswordHide?"visibility_off":"visibility","")}}function p(e,i){if(1&e){const e=o.Rb();o.Qb(0,"form",6),o.Qb(1,"h1",7),o.xc(2,"Verify your Email Address to complete the Registration with HOGVE"),o.Pb(),o.Qb(3,"h3",20),o.xc(4),o.Pb(),o.Qb(5,"div",8),o.Qb(6,"div",13),o.Qb(7,"mat-form-field",10),o.Qb(8,"mat-label"),o.xc(9,"Verification Code"),o.Pb(),o.Mb(10,"input",21),o.Qb(11,"mat-error"),o.xc(12," Please enter the 6 digits Verification Code that was sent your Email Address "),o.Pb(),o.Pb(),o.Pb(),o.Qb(13,"div",18),o.Qb(14,"button",19),o.Yb("click",(function(){return o.oc(e),o.cc().onVerify()})),o.xc(15,"Verify"),o.Pb(),o.Pb(),o.Pb(),o.Pb()}if(2&e){const e=o.cc();o.hc("formGroup",e.verificationdForm),o.Ab(4),o.yc(e.message)}}let h=(()=>{class e{constructor(e,i){this.router=e,this.authorisationService=i,this.passwordHide=!0,this.confirmPasswordHide=!0,this.showEmailVerificationScreen=!1,this.buildRegisterForm(),this.buildVerificationForm()}ngOnInit(){}onRegister(){this.registerForm.markAllAsTouched(),this.registerForm.valid&&this.authorisationService.register(this.registerForm.getRawValue()).subscribe(e=>this.handleRegisterResponse(e),e=>this.handleRegisterError(e))}onLogin(){this.router.navigate(["../login"])}onVerify(){this.verificationdForm.markAllAsTouched(),this.verificationdForm.valid&&this.authorisationService.verifyEmail(this.verificationdForm.getRawValue()).subscribe(e=>this.handleVerifyEmailResponse(e),e=>this.handleVerifyEmailError(e))}buildRegisterForm(){this.registerForm=new t.f({firstName:new t.d("",[t.s.required]),lastName:new t.d("",[t.s.required]),email:new t.d("",[t.s.required,t.s.email]),password:new t.d("",[t.s.required]),confirmPassword:new t.d("",[t.s.required])},this.passwordConfirming)}buildVerificationForm(){this.verificationdForm=new t.f({email:new t.d("",[t.s.required,t.s.email]),verificationCode:new t.d(null,[t.s.required])})}passwordConfirming(e){if(e.get("password").value!==e.get("confirmPassword").value)return e.get("confirmPassword").setErrors({"Different Password entered":!0}),{invalid:!0}}handleRegisterResponse(e){this.showEmailVerificationScreen=!0,this.verificationdForm.reset(),this.verificationdForm.get("email").setValue(e.body.email),206===e.status&&(this.message=e.body.message)}handleRegisterError(e){e&&500===e.status&&(this.message=e.error.message||"Connection Error!")}handleVerifyEmailResponse(e){this.registerForm.reset(),this.onLogin(),this.message=e.body.email+" Verified Successfully"}handleVerifyEmailError(e){e&&500===e.status&&(this.message=e.error.message||"Connection Error!")}}return e.\u0275fac=function(i){return new(i||e)(o.Lb(a.a),o.Lb(n.a))},e.\u0275cmp=o.Fb({type:e,selectors:[["app-register"]],decls:11,vars:2,consts:[["fxLayout","row wrap","fxLayout.sm","column","fxLayout.xs","column","fxLayoutGap","15px",1,"container"],["fxLayout","column","fxFlex","0 1 calc(50%-15px)"],["fxLayout","column","fxFlex","100%",3,"formGroup",4,"ngIf"],["fxLayout","column","fxFlex","50%","fxLayoutAlign","center center",1,"account-overlay"],["mat-button","",3,"click"],["fxLayout","column","fxLayoutAlign","center center"],["fxLayout","column","fxFlex","100%",3,"formGroup"],["fxLayoutAlign","center"],["fxLayout","row wrap","fxLayout.sm","column","fxLayout.xs","column","fxLayoutGap.xs","15px","fxLayoutGap.sm","15px","fxLayoutAlign","center"],["fxFlex","0 1 calc(50%-15px)","fxLayoutAlign","center",1,"form-field-container"],["appearance","fill"],["matInput","","placeholder","First Name","formControlName","firstName","required",""],["matInput","","placeholder","Last Name","formControlName","lastName","required",""],["fxFlex","0 1 calc(100%-15px)","fxLayoutAlign","center",1,"form-field-container"],["matInput","","placeholder","Email","formControlName","email","required",""],["matInput","","placeholder","Password","formControlName","password","required","",3,"type"],["matSuffix","",3,"click"],["matInput","","placeholder","Confirm Password","formControlName","confirmPassword","required","",3,"type"],["fxFlex","0 1 calc(100%-15px)","fxLayoutAlign","end center"],["fxFlex","50%","mat-raised-button","","color","warn",3,"click"],[1,"error"],["matInput","","placeholder","Verification Code","formControlName","verificationCode","appDigitsOnly","","minlength","6","maxlength","6","required",""]],template:function(e,i){1&e&&(o.Qb(0,"div",0),o.Qb(1,"div",1),o.wc(2,d,46,5,"form",2),o.wc(3,p,16,2,"form",2),o.Pb(),o.Qb(4,"div",3),o.Qb(5,"button",4),o.Yb("click",(function(){return i.onLogin()})),o.Qb(6,"div",5),o.Qb(7,"mat-icon"),o.xc(8,"lock_open"),o.Pb(),o.Qb(9,"span"),o.xc(10,"IF YOU HAVE ACCOUNT ALREADY, PLEASE LOGIN"),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb()),2&e&&(o.Ab(2),o.hc("ngIf",!i.showEmailVerificationScreen),o.Ab(1),o.hc("ngIf",i.showEmailVerificationScreen))},directives:[s.c,s.d,s.a,c.k,s.b,l.b,m.a,t.t,t.o,t.g,b.c,b.f,f.b,t.c,t.n,t.e,t.r,b.b,b.g,u.a,t.j,t.i],styles:[""]}),e})()},JQvQ:function(e,i,r){"use strict";r.d(i,"a",(function(){return o}));var t=r("fXoL");let o=(()=>{class e{constructor(e){this._el=e}onInputChange(e){const i=this._el.nativeElement.value;this._el.nativeElement.value=i.replace(/[^0-9]*/g,""),i!==this._el.nativeElement.value&&e.stopPropagation()}}return e.\u0275fac=function(i){return new(i||e)(t.Lb(t.l))},e.\u0275dir=t.Gb({type:e,selectors:[["input","appDigitsOnly",""]],hostBindings:function(e,i){1&e&&t.Yb("input",(function(e){return i.onInputChange(e)}))}}),e})()}}]);